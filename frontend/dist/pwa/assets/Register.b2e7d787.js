import{a as x,Q as _}from"./QCardSection.90f19a00.js";import{v as f,r as p,x as g,y,z as d,B as t,F as S,G as q,aN as C,$ as Q,Q as h,_ as w,c as B,a as V,h as v,d as b,g as k,O as A,X as E,A as N}from"./index.6959b9b0.js";import{a as R,u as $,b as F,Q as U}from"./QPage.a8faf3df.js";import{A as D}from"./AuthenticateService.752378d9.js";import{Q as P}from"./QForm.a4749b3d.js";import"./axios.4554e810.js";const I={class:"text-h6"},L=f({__name:"RegistroForm",props:{title:String,submitLabel:String},emits:["submit"],setup(a,{emit:e}){const n=a,l=e,u=p(""),i=p(""),r=p(""),s=()=>{l("submit",{nome:u.value,email:i.value,senha:r.value})};return(m,o)=>(g(),y(R,{class:"my-card"},{default:d(()=>[t(x,null,{default:d(()=>[S("div",I,q(n.title),1)]),_:1}),t(x,null,{default:d(()=>[t(P,{onSubmit:C(s,["prevent"])},{default:d(()=>[t(_,{modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=c=>u.value=c),label:"Nome",type:"text",required:""},null,8,["modelValue"]),t(_,{modelValue:i.value,"onUpdate:modelValue":o[1]||(o[1]=c=>i.value=c),label:"Email",type:"email",required:""},null,8,["modelValue"]),t(_,{modelValue:r.value,"onUpdate:modelValue":o[2]||(o[2]=c=>r.value=c),label:"Senha",type:"password",required:""},null,8,["modelValue"]),Q(m.$slots,"default",{},void 0,!0),t(h,{type:"submit",label:a.submitLabel,color:"primary",class:"q-mt-md"},null,8,["label"])]),_:3})]),_:3})]),_:3}))}});var M=w(L,[["__scopeId","data-v-3e895ed8"]]),T=B({name:"QBanner",props:{...$,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(a,{slots:e}){const{proxy:{$q:n}}=k(),l=F(a,n),u=V(()=>"q-banner row items-center"+(a.dense===!0?" q-banner--dense":"")+(l.value===!0?" q-banner--dark q-dark":"")+(a.rounded===!0?" rounded-borders":"")),i=V(()=>`q-banner__actions row items-center justify-end col-${a.inlineActions===!0?"auto":"all"}`);return()=>{const r=[v("div",{class:"q-banner__avatar col-auto row items-center self-start"},b(e.avatar)),v("div",{class:"q-banner__content col text-body2"},b(e.default))],s=b(e.action);return s!==void 0&&r.push(v("div",{class:i.value},s)),v("div",{class:u.value+(a.inlineActions===!1&&s!==void 0?" q-banner--top-padding":""),role:"alert"},r)}}});const j=f({__name:"AutenticacaoErro",props:{message:{}},setup(a){const e=a;return(n,l)=>e.message?(g(),y(T,{key:0,class:"text-white bg-red",type:"negative"},{default:d(()=>[E(q(e.message),1)]),_:1})):A("",!0)}}),K=f({name:"RegisterPage",__name:"Register",setup(a){const e=p(""),n=p(null),l=N(),u=async({nome:r,email:s,senha:m})=>{if(m!==e.value){n.value="Senhas n\xE3o conferem";return}try{const o=await D.register(r,s,m);console.log(o.data),await l.push("/auth/login")}catch(o){n.value="Erro ao cadastrar usu\xE1rio: "+o.message}},i=()=>{l.push("/auth/login")};return(r,s)=>(g(),y(U,{class:"q-pa-md"},{default:d(()=>[t(M,{title:"Cadastrar","submit-label":"Cadastrar",onSubmit:u},{default:d(()=>[t(_,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=m=>e.value=m),label:"Confirmar Senha",type:"password",required:""},null,8,["modelValue"]),t(h,{flat:"",label:"J\xE1 tem uma conta?",onClick:i})]),_:1}),t(j,{message:n.value},null,8,["message"])]),_:1}))}});export{K as default};
